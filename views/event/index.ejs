<%- include('../partials/header.ejs') %>
<%- include('../partials/navbar.ejs') %>

<div class="container">

  <div class="row mt-3">
    <div class="md-12">
      <%- include('../partials/messages.ejs') %>
    </div>
  </div>

  <% chunk.forEach(ele => { %>
    <div class="row mt-3">
      <% ele.forEach(e => { %>
        <div class="col-md-4 mt-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><%= e.title%></h5>
              <p class="card-text"><%= e.description%></p>
              <p><%= e.location%></p>
              <a href="/events/show/<%= e._id%>" class="btn btn-primary">Show More</a>
            </div>
          </div>
        </div>
      <% }) %>
    </div>
  <% }) %>
  <div class="row">
    <div class="col-12 mt-2 mb-4">
      <nav aria-label="...">
        <ul class="pagination pagination-lg justify-content-center">
          <% for( let i = 1; i <= Math.ceil(total/6); i++ ) { %>
              <% if (pageNum == i) { %>
                <li class="page-item" aria-current="page">
                  <a class="page-link active" href="/events/<%= i%>"><%= i %></a>
                </li> 
              <% } else {%>
                <li class="page-item" aria-current="page">
                  <a class="page-link" href="/events/<%= i%>"><%= i %></a>
                </li> 
              <% } %>         
          <% } %>
        </ul>
      </nav>
    </div>
  </div>
</div>

<%- include('../partials/footer.ejs') %>